version: "3.8"

services:
  customerdomainservice:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "5209:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_HTTP_PORTS=8080
# services:
#   customerdomainservice:
#     image: ${DOCKER_REGISTRY-}customerdomainservice
#     ports:
#       - 8080:8080
#     build:
#       context: .
#     environment:
#       - ASPNETCORE_ENVIRONMENT=Development
#       - ASPNETCORE_HTTP_PORTS=8080
#     networks:
#       - mynw
#   prometheus:
#     image: prom/prometheus
#     ports:
#       - "9090:9090"
#     volumes:
#       - ./prometheus.yml:/etc/prometheus/prometheus.yml:ro
#     command:
#       - "--config.file=/etc/prometheus/prometheus.yml"
#     networks:
#       - mynw
#   grafana:
#     image: grafana/grafana
#     ports:
#       - "3000:3000"
#     environment:
#       - GF_SECURITY_ADMIN_PASSWORD=admin
#     volumes:
#       - ./grafana:/var/lib/grafana
#     depends_on:
#       - prometheus
#     networks:
#       - mynw
# networks:
#   mynw:

